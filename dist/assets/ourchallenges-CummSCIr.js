import{f as B}from"./main-jt0CM-N1.js";import{r as m}from"./createcard-DSBi7P7j.js";const g=await B(),y=document.querySelector("#allChallenges");m(y,g);const v=document.querySelector(".checkbox-online"),L=document.querySelector(".checkbox-onsite"),p=document.querySelector(".search-input"),M=document.querySelector(".filterBtn"),E=document.querySelector(".filter-interface"),R=document.querySelector(".close-btn"),F=document.querySelectorAll(".filterTags"),h=document.querySelectorAll(".rating .star-container:first-of-type .star"),f=document.querySelectorAll(".rating .star-container:last-of-type .star");let o=0,n=5;u(f,n);const S=document.querySelector("#and"),I=document.querySelector("#or"),q=document.querySelector("#filterAnd"),V=document.querySelector("#filterOr");v.addEventListener("change",a);L.addEventListener("change",a);p.addEventListener("input",a);S.addEventListener("change",a);I.addEventListener("change",a);q.addEventListener("change",a);V.addEventListener("change",a);M.addEventListener("click",()=>{E.classList.add("active")});R.addEventListener("click",()=>{E.classList.remove("active")});F.forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("active"),a()})});h.forEach((e,r)=>{e.addEventListener("click",()=>{const s=r+1;o===s?o=0:(o=s,o>n&&(n=o,u(f,n))),u(h,o),a()})});f.forEach((e,r)=>{e.addEventListener("click",()=>{const s=r+1;n===s?n=0:(n=s,n<o&&(o=n,u(h,o))),u(f,n),a()})});function u(e,r){e.forEach((s,d)=>{s.classList.toggle("active",d<r)})}function a(){const e=v.checked,r=L.checked,s=p.value.toLowerCase().trim(),d=[];document.querySelectorAll(".filterTags.active").forEach(c=>{d.push(c.dataset.tag)});const b=S.checked?"and":"or",k=q.checked?"and":"or",T=e||r,A=s.length>=3,w=d.length>0,x=!(o===0&&n===5),O=g.filter(c=>{const i=[];if(T){let t=!0;e&&!r?t=c.type==="online":!e&&r?t=c.type==="onsite":e&&r&&(t=!0),i.push(t)}if(A){const t=c.title.toLowerCase(),l=c.description.toLowerCase(),C=t.includes(s)||l.includes(s);i.push(C)}if(w)if(!c.labels||!Array.isArray(c.labels))i.push(!1);else if(b==="and"){const t=d.every(l=>c.labels.includes(l));i.push(t)}else{const t=d.some(l=>c.labels.includes(l));i.push(t)}if(x){const t=Math.round(c.rating),l=t>=o&&t<=n;i.push(l)}return i.length===0?!0:k==="and"?i.every(Boolean):i.some(Boolean)});m(y,O)}
